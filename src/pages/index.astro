---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import portfolio from '../data/portfolio.json';
import { clients } from '../data/clients.json';
import StackCard from "../components/StackCard.astro";


// Get unique tags from all projects
const allTags = [...new Set(portfolio.projects.flatMap(project => project.tags))];


const stack = [
  { 
    text: "Astro", 
    icon: "astro", 
    href: "https://astro.build" 
  },
  { 
    text: "Javascript", 
    icon: "javascript", 
    href: "https://www.javascript.com" 
  },
  { 
    text: "Typescript", 
    icon: "typescript", 
    href: "https://www.typescriptlang.org" 
  },
  { 
    text: "Tailwind", 
    icon: "tailwind", 
    href: "https://tailwindcss.com" 
  },
]




const services = [
  {
    icon: "computer",
    title: "Web Development",
    description: "DevNuxCode builds fast, responsive websites and apps tailored to engage users and drive conversions."
  },
  {
    icon: "cursor",
    title: "UI/UX Design",
    description: "We create visually appealing, user-focused designs that enhance brand engagement and usability."
  },
  {
    icon: "shopping-cart",
    title: "E-commerce Solutions",
    description: "From secure payments to user-friendly catalogs, our e-commerce sites are built to maximize conversions."
  },
  {
    icon: "device-mobile",
    title: "Mobile App Development",
    description: "Our team develops high-performance mobile apps for iOS and Android that expand brand reach."
  },
  {
    icon: "rocket",
    title: "SEO And Digital Marketing",
    description: "DevNuxCode boosts online visibility with targeted SEO and digital marketing strategies to grow organic traffic."
  },
  {
    icon: "code",
    title: "Custom Software Development",
    description: "We provide custom software solutions tailored to fit unique business needs, ensuring seamless integration and scalability."
  }
];
---

<Layout title="Dev Nux Code - Desarrollo de Software">
  <Navbar />
  
  <!-- Hero Section -->
  <section id="inicio" class="pt-20 min-h-screen flex items-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="text-center">
        <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 dark:text-white sm:text-5xl md:text-6xl">
          <span class="block">Bienvenidos a</span>
          <span class="block text-primary">&lt; DevNuxCode /&gt;</span>
        </h1>
        <p class="mt-3 max-w-md mx-auto text-base text-gray-500 dark:text-gray-300 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
          Transformamos ideas en soluciones digitales innovadoras. Desarrollo de software a medida para impulsar tu negocio.
        </p>
        <div class="mt-8">
          <a href="#contacto" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90 transition-colors">
            Contáctanos
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- What We Do Section -->
  <section id="servicios" class="py-20 bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl">
          ¿Qué Hacemos Para Ti?
        </h2>
        <p class="mt-4 text-xl text-gray-500 dark:text-gray-300">
          Soluciones tecnológicas completas para tu negocio
        </p>
      </div>

      <div class="mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {services.map(service => (
          <div class="relative group">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-transform duration-300 group-hover:-translate-y-2">
              <div class="text-primary mb-4">
                <span class="inline-block p-3 bg-primary/10 rounded-lg">
                  {service.icon === "computer" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                  )}
                  {service.icon === "cursor" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122" />
                    </svg>
                  )}
                  {service.icon === "shopping-cart" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                  )}
                  {service.icon === "device-mobile" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                    </svg>
                  )}
                  {service.icon === "rocket" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                    </svg>
                  )}
                  {service.icon === "code" && (
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                    </svg>
                  )}
                </span>
              </div>
              <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">{service.title}</h3>
              <p class="text-gray-500 dark:text-gray-300">{service.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Portfolio Section -->
  <section id="portafolio" class="py-20 bg-gray-50 dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl">
          Nuestro Portafolio
        </h2>
        <p class="mt-4 text-xl text-gray-500 dark:text-gray-300">
          Proyectos destacados que hemos realizado
        </p>
      </div>

      <!-- Tags Filter -->
      <div class="mt-8 flex flex-wrap justify-center gap-2">
        <button
          class="filter-tag-all px-4 py-2 rounded-full bg-primary text-white font-medium text-sm hover:bg-primary/90 transition-colors"
          data-tag="all"
        >
          Todos
        </button>
        {allTags.map(tag => (
          <button
            class="filter-tag px-4 py-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-medium text-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"
            data-tag={tag}
          >
            {tag}
          </button>
        ))}
      </div>

      <div class="mt-12 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3" id="portfolio-grid">
        {portfolio.projects.map(project => (
          <div class="portfolio-card bg-white dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden" data-tags={project.tags.join(',')}>
            <div class="p-6">
              <h3 class="text-xl font-bold text-gray-900 dark:text-white">{project.name}</h3>
              <p class="mt-2 text-gray-500 dark:text-gray-300">{project.description}</p>
              
              <div class="mt-4 flex flex-wrap gap-2">
                {project.tags.map(tag => (
                  <span class="px-2 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded">
                    {tag}
                  </span>
                ))}
              </div>
              
              <div class="mt-6 flex gap-4">
                <a
                  href={project.demoURL}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                >
                  Ver Demo
                </a>
                {project.repoURL && (
                  <a
                    href={project.repoURL}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                  >
                    Repositorio
                  </a>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>




         <!-- Clients Section -->
  <section id="clientes" class="bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
        <h2 class="py-10 text-3xl text-center font-extrabold text-gray-900 dark:text-white sm:text-4xl">
          Nuestros Clientes
        </h2>
        <p class="text-center mt-4 text-xl text-gray-500 dark:text-gray-300">
          Empresas que confían en nosotros
        </p>
      
    

      <div class="py-10 px-10 bg-white dark:bg-gray-900">
      <div class="center mt-16 grid grid-cols-2 gap-8 md:grid-cols-3 lg:grid-cols-6">
        {clients.map(client => (
          <div class="flex justify-center items-center p-4 grayscale hover:grayscale-0 transition-all duration-300">
            <img
              src={client.logo}
              alt={`Logo de ${client.name}`}
              class="h-15 object-contain dark:invert"
              loading="lazy"
            /><p class="ml-2 dark:text-white">{client.name}</p>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<!-- Tenologias Section -->
<section id="tecnology" class="animate">
  <div class="text-center">
  <div class="space-y-4 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl">
      Tecnología
    </h2>
    <div>
      <div class="flex flex-wrap justify-center items-center gap-2 mt-8">
        {stack.map(item => (
          <StackCard 
            text={item.text}
            icon={item.icon}
            href={item.href}
          />
        ))}
      </div>
    </div>
    
    <div class="pt-10 pb-10 font-semibold text-black dark:text-white">
      Performing reactivity and statefulness, special guest
      <a href="https://www.solidjs.com/" target="_blank" class="w-fit group underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
        <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
          SolidJS
        </span>
      </a>
    </div>
  </div>
</div>
</section>




  <!-- Contact Section -->
  <section id="contacto" class="relative py-20 bg-gradient-to-br from-gray-900 to-gray-800 text-white">
    <div class="absolute inset-0 bg-primary/10"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold mb-4">¿Quieres Impulsar Tu Negocio?</h2>
        <p class="text-xl text-gray-300">Contáctanos y Mantengámonos en Contacto</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
        <!-- Contact Form -->
        <div class="bg-white dark:bg-gray-800 rounded-lg p-8 shadow-xl">
          <form id="contact-form" class="space-y-6">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                Nombre
              </label>
              <input type="text" id="name" name="name" required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                Email
              </label>
              <input type="email" id="email" name="email" required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            </div>

            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                Mensaje
              </label>
              <textarea id="message" name="message" rows="4" required
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-gray-700 dark:border-gray-600 dark:text-white"></textarea>
            </div>

            <button type="submit"
              class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors">
              Enviar Mensaje
            </button>
          </form>
        </div>

        <!-- Contact Information -->
        <div class="flex flex-col justify-center space-y-8">
          <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            </div>
            <div>
              <h3 class="text-lg font-medium">Email</h3>
              <p class="mt-1 text-gray-300">DevnuxCode@gmail.com</p>
            </div>
          </div>

          <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
            </div>
            <div>
              <h3 class="text-lg font-medium">WhatsApp</h3>
              <p class="mt-1 text-gray-300">+56 978104620</p>
            </div>
          </div>

          <div class="flex items-start space-x-4">
            <div class="flex-shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </div>
            <div>
              <h3 class="text-lg font-medium">Ubicación</h3>
              <p class="mt-1 text-gray-300">Santiago, Chile</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Back to Top Button -->
  <button
    id="back-to-top"
    class="fixed bottom-20 right-4 z-50 bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary/90 transition-colors opacity-0 invisible"
    aria-label="Volver arriba"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M5 10l7-7m0 0l7 7m-7-7v18"
      />
    </svg>
  </button>
</Layout>

<script>
  // Contact form handler
  document.getElementById('contact-form')?.addEventListener('submit', function(e) {
    e.preventDefault();
    
    const name = (document.getElementById('name') as HTMLInputElement).value;
    const email = (document.getElementById('email') as HTMLInputElement).value;
    const message = (document.getElementById('message') as HTMLTextAreaElement).value;
    
    // Format message for WhatsApp
    const whatsappMessage = `*Nuevo contacto desde DevnuxCode*%0A%0A*Nombre:* ${name}%0A*Email:* ${email}%0A*Mensaje:* ${message}`;
    
    // Open WhatsApp with pre-filled message
    window.open(`https://wa.me/56978104620?text=${whatsappMessage}`, '_blank');
  });

  // Portfolio filtering
  const portfolioGrid = document.getElementById('portfolio-grid');
  const filterButtons = document.querySelectorAll('.filter-tag, .filter-tag-all');
  const portfolioCards = document.querySelectorAll('.portfolio-card');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons
      filterButtons.forEach(btn => {
        btn.classList.remove('bg-primary', 'text-white');
        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-200');
      });

      // Add active class to clicked button
      button.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-700', 'dark:text-gray-200');
      button.classList.add('bg-primary', 'text-white');

      const selectedTag = (button as HTMLElement).dataset.tag;

      portfolioCards.forEach(card => {
        if (selectedTag === 'all') {
          (card as HTMLElement).style.display = 'block';
        } else {
          const cardTags = (card as HTMLElement).dataset.tags?.split(',') || [];
          (card as HTMLElement).style.display = cardTags.includes(selectedTag!) ? 'block' : 'none';
        }
      });
    });
  });

  // Back to Top functionality
  const backToTopButton = document.getElementById('back-to-top');

  const toggleBackToTopButton = () => {
    if (window.scrollY > 300) {
      backToTopButton.classList.remove('opacity-0', 'invisible');
      backToTopButton.classList.add('opacity-100', 'visible');
    } else {
      backToTopButton.classList.add('opacity-0', 'invisible');
      backToTopButton.classList.remove('opacity-100', 'visible');
    }
  };

  window.addEventListener('scroll', toggleBackToTopButton);

  backToTopButton?.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });
</script>

<style>
  #back-to-top {
    transition: opacity 0.3s, visibility 0.3s;
  }
</style>